"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[660],{2996:function(e,t,n){const r=n(7378);t.Z=function(e,t){const[n,a]=(0,r.useState)(!1),o=(0,r.useRef)(null),l=(0,r.useRef)(!0),i=(0,r.useRef)(!1),c=(0,r.useRef)(null),s=(0,r.useMemo)((()=>Array.from({length:e},(()=>(0,r.createRef)()))),[e]),u=e=>{var t;o.current=e,null===(t=s[e].current)||void 0===t||t.focus()};(0,r.useEffect)((()=>{l.current?l.current=!1:!n||i.current&&!(null==t?void 0:t.focusFirstItemOnClick)?n||(i.current=!1):u(0)}),[n]),(0,r.useEffect)((()=>{if(!n)return;const e={removed:!1},t=e=>{setTimeout((()=>{e.target instanceof Element&&(e.target.closest('[role="menu"]')instanceof Element||a(!1))}),10)};return setTimeout((()=>{e.removed||document.addEventListener("click",t)}),1),()=>{e.removed=!0,document.removeEventListener("click",t)}}),[n]),(0,r.useEffect)((()=>{const e=e=>{!n||"ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.preventDefault()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[n]);const m=e=>{if((e=>void 0!==e.key)(e)){const{key:t}=e;if(!["Enter"," ","Tab","ArrowDown","Escape"].includes(t))return;("Tab"===t||"ArrowDown"===t)&&i.current&&n&&(e.preventDefault(),u(0)),"Enter"!==t&&" "!==t||(e.preventDefault(),a(!0)),"Escape"===t&&(e.preventDefault(),a(!1))}else(null==t?void 0:t.focusFirstItemOnClick)||(i.current=!n),a(!n)},d=e=>{var t;const{key:n}=e;if(["Tab","Shift","Enter","Escape","ArrowUp","ArrowDown"," "].includes(n)){let r=o.current;return"Escape"===n?(a(!1),void(null===(t=c.current)||void 0===t||t.focus())):"Tab"===n?void a(!1):"Enter"===n||" "===n?(e.currentTarget.href||e.currentTarget.click(),void a(!1)):(null!==r&&("ArrowUp"===n?r-=1:"ArrowDown"===n&&(r+=1),r>s.length-1?r=0:r<0&&(r=s.length-1)),void(null!==r&&u(r)))}if(/[a-zA-Z0-9./<>?;:"'`!@#$%^&*()\\[\]{}_+=|\\-~,]/.test(n)){const e=s.findIndex((e=>{var t,r,a,o,l,i;return(null===(r=null===(t=e.current)||void 0===t?void 0:t.innerText)||void 0===r?void 0:r.toLowerCase().startsWith(n.toLowerCase()))||(null===(o=null===(a=e.current)||void 0===a?void 0:a.textContent)||void 0===o?void 0:o.toLowerCase().startsWith(n.toLowerCase()))||(null===(i=null===(l=e.current)||void 0===l?void 0:l.getAttribute("aria-label"))||void 0===i?void 0:i.toLowerCase().startsWith(n.toLowerCase()))}));-1!==e&&u(e)}};return{buttonProps:{onKeyDown:m,onClick:m,tabIndex:0,ref:c,role:"button","aria-haspopup":!0,"aria-expanded":n},itemProps:Array.from({length:e},((e,t)=>({onKeyDown:d,tabIndex:-1,role:"menuitem",ref:s[t]}))),isOpen:n,setIsOpen:a,moveFocus:u}}},9516:function(e,t,n){n.r(t);var r=n(3117),a=n(7378),o=n(6010),l=n(4704),i=n(9578),c=n(2996),s=n(9603),u=n(9417),m=n(3024);t.default=()=>{const{buttonProps:e,itemProps:t,isOpen:n}=(0,c.Z)(3);return a.createElement(l.Z,{title:"Demo",description:"A simple Hook for creating fully accessible dropdown menus in React"},a.createElement("header",{className:(0,o.Z)("hero hero--primary",i.Z.heroBanner)},a.createElement("div",{className:"container"},a.createElement("h1",{className:"hero__title"},"Demo"))),a.createElement("main",null,a.createElement("section",{className:i.Z.features},a.createElement("div",{className:"container"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col col--12"},a.createElement("button",(0,r.Z)({},e,{type:"button",className:"demo-button"}),a.createElement("span",null,"Try me!"),a.createElement(s.G,{icon:u.gc2})),a.createElement("div",{className:"demo-menu "+(n?"visible":""),role:"menu"},a.createElement("a",(0,r.Z)({},t[0],{href:"https://github.com/sparksuite/react-accessible-dropdown-menu-hook",id:"menu-item-1"}),a.createElement(s.G,{icon:m.zhw,fixedWidth:!0}),"View on GitHub"),a.createElement("a",(0,r.Z)({},t[1],{href:"https://www.npmjs.com/package/react-accessible-dropdown-menu-hook",id:"menu-item-2"}),a.createElement(s.G,{icon:m.xDz,fixedWidth:!0}),"View on npm"),a.createElement("a",(0,r.Z)({},t[2],{onClick:()=>alert("Click!"),id:"menu-item-3"}),a.createElement(s.G,{icon:u.MLj,fixedWidth:!0}),"Item with click handler")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col col--12"},a.createElement("ul",{className:"behavior"},a.createElement("li",null,"The menu can be revealed by clicking the button, or by focusing the button and pressing enter / space"),a.createElement("li",null,"When the menu is revealed, the first menu item is automatically focused"),a.createElement("li",null,a.createElement("em",null,"Once focus is in the menu\u2026"),a.createElement("ul",null,a.createElement("li",null,"The up / down arrow keys allow for navigation through the menu items (including wrapping from first to last and vice versa)"),a.createElement("li",null,"Pressing tab will close the menu and move the focus to the next focusable element"),a.createElement("li",null,"Pressing shift-tab will close the menu and move the focus to the previous focusable element"),a.createElement("li",null,"Pressing escape will close the menu and return the focus to the button"),a.createElement("li",null,"Pressing enter or space will activate that item and close the menu (whether it\u2019s a link or has a click handler attached)"),a.createElement("li",null,"Pressing any other character will move to the first menu item that starts with that character, if there is not a matching item, focus remains the same"))))))))))}},9578:function(e,t){t.Z={heroBanner:"heroBanner_UJJx",buttons:"buttons_pzbO",features:"features_keug",featureImage:"featureImage_yA8i",getStarted:"getStarted_Sjon"}}}]);